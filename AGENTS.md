# AGENTS.md

AI coding agent instructions for **whisper**

## Project Overview

[Whisper AI](https://usewhisper.org), The 100% private AI Chat App.

**Project Type:** React Native Mobile Application
**Primary Language:** TypeScript (96% of codebase)

## Architecture

**Key Frameworks & Libraries:**
- React (19.1.0) - web
- React Native (0.81.5) - mobile
- Jest (^29.7.0) - testing

**Project Structure:**
- `app/` - Application code
- `assets/` - Static assets
- `components/` - React/UI components
- `docs/` - Documentation
- `src/` - Source code
- `.github/assets/` - Static assets
- `app/settings/` - Settings
- `assets/audio/` - Project files
- `assets/images/` - Project files
- `components/chat/` - Project files
- `components/dashboard/` - Project files
- `components/flows/` - Project files
- `components/ui/` - Project files
- `src/__mocks__/` - Project files
- `src/actions/` - Project files
- `src/data/` - Project files
- `src/stores/` - Project files
- `src/types/` - Project files
- `src/utils/` - Utility functions
- `web/static/` - Static files

## Key Files

**Configuration:**
- `package.json` - Node.js dependencies and scripts

**Documentation:**
- `.github/ISSUE_TEMPLATE/bug_report.md`
- `.github/ISSUE_TEMPLATE/feature_request.md`
- `.github/ISSUE_TEMPLATE/research.md`

## Development Commands

**Test:**
```bash
npm run test
```

**Start:**
```bash
npm run start
```

**Lint:**
```bash
npm run lint
```

## Code Style Guidelines

- Use camelCase for variables and functions
- Use PascalCase for classes and components
- Prefer const/let over var
- Use async/await over callbacks when possible
- Use functional components with hooks
- Follow React naming conventions for components

## Testing

**Testing Frameworks:** Jest

**Run Tests:**
```bash
npm run test
```

**Test Files:**
- `src/__tests__/actions/ai-chat-model.test.ts`
- `src/__tests__/actions/chat-background.test.ts`
- `src/__tests__/actions/chat.test.ts`
- `src/__tests__/actions/download-navigation.test.ts`
- `src/__tests__/actions/message.test.ts`

## Existing Project Guidelines

*The following guidelines were found in existing AI configuration files:*

### AI Agent Guidelines
**From CLAUDE.md:**
## Project Overview
Whisper is a 100% private AI chat application built with React Native and Expo. It runs Large Language Models (LLMs) entirely on-device using llama.rn, ensuring complete privacy by keeping all conversations local.

### Actions Pattern
Business logic is organized into action functions in `src/actions/`:
- `settings.ts`: User preferences and onboarding
- `chat.ts`: Chat CRUD operations
- `message.ts`: Message operations
- `ai-chat-model.ts`: LLM download, pause/resume, and lifecycle management
- `reset.ts`: Factory reset functionality

Actions mutate the TinyBase store directly. Components subscribe to store changes via TinyBase React hooks (`useValue`, `useRow`, etc.).

## File Structure Conventions
- `app/`: File-based routes (index, dashboard, download)
- `src/actions/`: State mutation functions
- `src/utils/`: Pure utility functions
- `contexts/`: React Context providers
- `components/`: React components
- `theme/`: Theming system
- `hooks/`: Custom React hooks

## Testing & Development
Currently no test runner configured. Linting via `npm run lint` using ESLint with Expo config.

When developing features, consider:
- All state changes go through actions that mutate TinyBase store
- UI components read from store via hooks and remain mostly stateless
- Large downloads should use pause/resume pattern with state serialization
- Model operations (load, completion) go through AIChatContext


## AI Coding Assistance Notes

**Important Considerations:**
- Check package.json for available scripts before running commands
- Be aware of Node.js version requirements
- Consider impact on bundle size when adding dependencies
- Follow React hooks best practices
- Consider component reusability when creating new components
- Project has 197 files across 45 directories
- Check build configuration files before making structural changes

---

*This AGENTS.md file was generated by Nanocoder. Update it as your project evolves.*